<!doctype html>
<html>
<head><title>SimpleCalci</title>
<script type="text/javascript">
	var result=0;
	function getfocus(){
		
		if(event.keyCode=== 48||event.keyCode=== 96){
			event.preventDefault();
			dis(0);
		}
		else if(event.keyCode=== 49||event.keyCode=== 97){
			event.preventDefault();
			dis(1);
		}
		else if(event.keyCode=== 50||event.keyCode=== 98){
			event.preventDefault();
			dis(2);
		}
		else if(event.keyCode=== 51||event.keyCode=== 99){
			event.preventDefault();
			dis(3);
		}
		else if(event.keyCode=== 52||event.keyCode===100){
			event.preventDefault();
			dis(4);
		}
		else if(event.keyCode=== 53||event.keyCode===101){
			event.preventDefault();
			dis(5);
		}
		else if(event.keyCode=== 54||event.keyCode===102){
			event.preventDefault();
			dis(6);
		}
		else if(event.keyCode=== 55||event.keyCode===103){
			event.preventDefault();
			dis(7);
		}
		else if(event.keyCode=== 56||event.keyCode===104){
			event.preventDefault();
			dis(8);
		}
		else if(event.keyCode=== 57||event.keyCode===105){
			event.preventDefault();
			dis(9);
		}
		else if(event.keyCode=== 13){
			event.preventDefault();
			e();
		}
		else if(event.keyCode=== 8){
			event.preventDefault();
			c();
		}
		else if(event.keyCode===219){
			event.preventDefault();
			dis('[');
		}
		else if(event.keyCode===221){
			event.preventDefault();
			dis(']');
		}
		else if(event.keyCode===191||event.keyCode===111){
			event.preventDefault();
			dis('/');
		}
				else if(event.keyCode===107){
			event.preventDefault();
			dis('+');
		}
				else if(event.keyCode===109){
			event.preventDefault();
			dis('-');
		}
				else if(event.keyCode===106){
			event.preventDefault();
			dis('*');
		}
		else if(event.keyCode==77){
			event.preventDefault();
			frm.txt.value=result;
			e=0;
			stat=0;
			l=0;
			r=0;
			err=0;
		}
		else{
		event.preventDefault();}
		
	}
	 var stat=0;
	 var l=0;var r=0;var err=0;
	function dis(x){
		if(x==1||x==2||x==3||x==4||x==5||x==6||x==7||x==8||x==9||x==0||x=='.'){
			if(stat==1){
				frm.txt.value='';
				stat=0;
			}
			frm.txt.value=frm.txt.value+x;
			}
		else if(x=='[')
		{
			if(stat==1){
				frm.txt.value='';
				stat=0;
			}
			l=l+1;
			frm.txt.value=frm.txt.value+x;
		}
		else if(x==']'){
			if(stat==1){
				frm.txt.value='';
				stat=0;
			}
			l=l-1;
			frm.txt.value=frm.txt.value+x;
			if(l<0)
			err=1;
		}
		else{
			stat=0;
			if(frm.txt.value.charAt(frm.txt.value.length-1)==='*'||frm.txt.value.charAt(frm.txt.value.length-1)==='+'||frm.txt.value.charAt(frm.txt.value.length-1)==='-'||frm.txt.value.charAt(frm.txt.value.length-1)==='/')
			{
				frm.txt.value=frm.txt.value.slice(0,frm.txt.value.length-1)+x;
			}
			else{
				frm.txt.value=frm.txt.value+x;
			}
		}
	}
	function e(){
		if(l!=0||r!=0||err==1){
			frm.txt.value='Invalid Syntax';
			stat=1;
			l=0;
			r=0;
			err=0;
		}
		else{
			stat=1
			result=eval(frm.txt.value);
			if(!result&&result!==0){
			frm.txt.value='Error';}
			else if(result=='infinity'){
			frm.txt.value='Error';
			}
			else{
			frm.txt.value=result;}
		}
	}
	
	function ce(){
		frm.txt.value='';
		l=0;
		r=0;
		err=0;
	}
	function c()
	{
		if(frm.txt.value.charAt(frm.txt.value.length-1)=='['){
			l=l-1;
		}
		if(frm.txt.value.charAt(frm.txt.value.length-1)==']'){
			l=l+1;
			if(l>0||l==0){
				err=0;
			}
		}
		frm.txt.value=frm.txt.value.slice(0,frm.txt.value.length-1);
	}
	</script>
<style type="text/css">
 
	#textbox{
	font-weight: bold;
	font-size: 40px;
	background-color: #7fffd4;
	margin-top: 10px;
	margin-bottom: 10px;
	margin-left: 3px;
	margin-right: 3px;
	text-align: right;
	width: 275px;
	height: 60px;
	border-radius: 20px;
	border: 2px solid black;
	}
	#container{
	position: relative;
		margin-left:600px;
	margin-top:40px;
	background-color: #808080;
	align: center;
	border: 3px solid black;
	width: 288px;
	border-radius: 6px;
	}
	#equal{
	background-color:green;
	}
	#clear{
		background-color:red;
	}
	#delete{
		background-color: red;
	}
	.btn{
	
	background-color: #000000;
	font-family:Palatino;color: #ffffff;
	
	font-size: 25px;
	width:60px;
	height:60px;
	border-radius: 100px;
	margin-right: 4px;
	margin-left: 4px;
	margin-bottom: 10px;
	}
	.btn:hover{
	cursor:pointer;
		border:2px solid white;
		font-weight: bold;
	}
</style>
</head>
<body style="background-color: #1f2021;" onload="getfocus();" onkeydown="getfocus()">

<div id="container" >
<form name="frm" id="frm">
	<input id="textbox" type="textbox" name="txt" onfocus = "event.preventDefault();getfocus();"><br>
	<input class="btn" type="button" name="leftb" value="[" onClick="dis(leftb.value)">
	<input class="btn" type="button" name="rightb" value="]" onClick="dis(rightb.value)">
	<input class="btn" id="clear" type="button" name="CE" value="CE" onClick="ce()">
	<input class="btn" id="delete" type="button" name="backspace" value="DEL" onClick="c()"><br>
	<input class="btn" type="button" name="btn7" value="7" onClick="dis(btn7.value)">
	<input class="btn" type="button" name="btn8" value="8" onClick="dis(btn8.value)">
	<input class="btn"  type="button" name="btn9" value="9" onClick="dis(btn9.value)">
	<input class="btn" type="button" name="btnmul" value="*" onClick="dis(btnmul.value)" ><br>
	
	<input class="btn" type="button" name="btn4" value="4" onClick="dis(btn4.value)">
	<input class="btn" type="button" name="btn5" value="5" onClick="dis(btn5.value)">
	<input class="btn" type="button" name="btn6" value="6" onClick="dis(btn6.value)">
	<input class="btn" type="button" name="btndiv" value="/" onClick="dis(btndiv.value)"><br>
	<input class="btn" type="button" name="btn1" value="1" onClick="dis(btn1.value)">
	<input class="btn" type="button" name="btn2" value="2" onClick="dis(btn2.value)">
	<input class="btn" type="button" name="btn3" value="3" onClick="dis(btn3.value)">
	<input class="btn" type="button" name="btnmin" value="-" onClick="dis(btnmin.value)"><br>
	<input class="btn" type="button" name="btndot" value="." onClick="dis(btndot.value)">
	<input class="btn" type="button" name="btn0" value="0" onClick="dis(btn0.value)">
	<input class="btn" id ="equal" type="button" name="buttone" value="=" onClick="e()">
	<input class="btn" type="button" name="btnplus" value="+" onClick="dis(btnplus.value)"><br>
	</form>
	</div>
	<br><br><br>
	<div  style="font-family: Monotype-Corsiva;color:#ffffff;">
	<h2><center>Press m for Memory</center></h2>
	<h1>Designed By:</h1>
	<h1>Name: Puneet Singla</h1>
	<h1>Roll No.: 16103059</h1>
	</div>
	</body>
</html>
